{"version":3,"file":"index.bundle.min.js","mappings":"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","sources":["webpack://Tempus/./src/index.js"],"sourcesContent":["class Tempus extends Date {\n  constructor() {\n    // eslint-disable-next-line prefer-rest-params\n    super(...arguments)\n    this.timeZone = 'UTC'\n    this.locale = 'en-US'\n  }\n\n  // public\n\n  /**\n   * Get the start of the day\n   *\n   * @return {Tempus} Start of day\n   */\n  get dayStart() {\n    return Tempus.dayStart(this)\n  }\n\n  /**\n   * Get the end of day\n   *\n   * @return {Tempus} End of day\n   */\n  get dayEnd() {\n    return Tempus.dayEnd(this)\n  }\n\n  /**\n   * Get day of week\n   *\n   * @returns {Number} Day of week (zero index)\n   */\n  get dayOfWeek() {\n    return Tempus.dayOfWeek(this)\n  }\n\n  /**\n   * Get time zone offset\n   *\n   * @example\n   * // returns -4\n   * this.timeZoneOffset.hours;\n   *\n   * @example\n   * // returns -4\n   * Number(this.timeZoneOffset);\n   *\n   * @example\n   * // returns '-04:00'\n   * String(this.timeZoneOffset);\n   *\n   * @return {Tempus.TimeZoneOffset} timezone offset\n   */\n  get timeZoneOffset() {\n    return new Tempus.TimeZoneOffset(this.timeZone, this)\n  }\n\n  get startOfWeek() {\n    const oldTZ = this.timeZone\n    const nd = new Tempus(this)\n    nd.setTimeZone('UTC')\n    nd.setHours(0, 0, 0, 0)\n    const date = Tempus.getWeekStart(nd)\n    this.setTimeZone(oldTZ)\n    return date\n  }\n\n  get endOfWeek() {\n    const oldTZ = this.timeZone\n    const nd = new Tempus(this)\n    nd.setTimeZone('UTC')\n    nd.setHours(0, 0, 0, 0)\n    const date = Tempus.getWeekEnd(nd)\n    this.setTimeZone(oldTZ)\n    return date\n  }\n\n  get localeDate() {\n    return Tempus.getLocaleDate(this, this.locale, this.timeZone)\n  }\n\n  /**\n   * @param {string} tz timeZone Valid time zone (e.g. 'UTC' or 'America/Los_Angeles')\n   */\n  setTimeZone(tz) {\n    const oldOffset = Number(this.timeZoneOffset)\n    this.timeZone = tz\n    const offset = Number(this.timeZoneOffset)\n    this.adjustByHours(offset - oldOffset)\n  }\n\n  /**\n   * Set the locale\n   *\n   * @param {string} locale Valid locale (e.g. 'en-US')\n   */\n  setLocale(locale) {\n    this.locale = locale\n  }\n\n  /**\n   * Convert to SQL formatted string\n   * @param {string} timeZone\n   * @param {string} format\n   * @returns\n   */\n  toSQLString(timeZone = 'UTC', format = 'DATETIME') {\n    // eslint-disable-next-line unicorn/no-this-assignment\n    const nd = this\n    nd.setTimeZone(timeZone)\n    return Tempus.toSQLString(nd, format)\n  }\n\n  adjustByDays(days) {\n    return Tempus.adjustByDays(days, this)\n  }\n\n  adjustByHours(hours) {\n    return Tempus.adjustByHours(hours, this)\n  }\n\n  // static\n  static daysInWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']\n\n  static dayStart = date => {\n    const newDate = date\n    newDate.setUTCHours(0, 0, 0, 0)\n    return new Tempus(newDate)\n  }\n\n  static dayEnd = date => {\n    const newDate = date\n    newDate.setUTCHours(23, 59, 59, 999)\n    return new Tempus(newDate)\n  }\n\n  static dayOfWeek = (date, startMonday = true) => startMonday ? (date.getDay() === 0 ? 6 : date.getDay() - 1) : date.getDay()\n\n  static getDateChangedByDays = (days, initialDate) => new Tempus(new Date(initialDate).getTime() + (days * 86_400_000))\n\n  static adjustByDays = (days, initialDate) => initialDate.setDate(initialDate.getDate() + days)\n\n  static adjustByHours = (hours, initialDate) => initialDate.setHours(initialDate.getHours() + hours)\n\n  static decimalToTime = (num, secs = true) => {\n    let neg = ''\n    if (num < 0) {\n      num *= -1\n      neg = '-'\n    }\n\n    const n = new Date(0, 0)\n    n.setSeconds(Number(num) * 60 * 60)\n    if (secs) {\n      return neg + n.toTimeString().slice(0, 8)\n    }\n\n    const r = n.toTimeString().slice(0, 8)\n    let inc = 0\n    return neg + r.split(':').reverse().map((e, i) => {\n      if (i === 0) {\n        if (Number(e) >= 30) {\n          inc = 1\n        }\n\n        return String(0).padStart(2, '0')\n      }\n\n      if (i === 1) {\n        return String(Number(e) + inc).padStart(2, '0')\n      }\n\n      return e\n    }).reverse().join(':').slice(0, 5)\n  }\n\n  /**\n   * Format in SQL entry style\n   *\n   * @param {Date} date JavaScript Date\n   * @param {string|false} timeZone Valid timezone (e.g. 'America/Los_Angeles'), or false for default system timezone\n   * @param {'DATE'|'DATETIME'|'TIMESTAMP'|'YEAR'} format SQL column type\n   * @returns\n   */\n  static toSQLString = (date, format = 'DATETIME') => {\n    format = format.toLowerCase()\n    const formatted = date.toISOString()\n    // eslint-disable-next-line default-case\n    switch (format) {\n      case 'year':\n        return formatted.slice(0, 4)\n\n      case 'date':\n        return formatted.split('T')[0]\n    }\n\n    return formatted.slice(0, -5).replace('T', ' ')\n  }\n\n  static getWeekStart = _date => {\n    const date = new Date(_date)\n    const day = date.getDay()\n    const diff = date.getDate() - day + (day === 0 ? -6 : 1) // adjust when day is sunday\n    const newDate = new Tempus(date.setDate(diff))\n    newDate.setUTCHours(0, 0, 0, 0)\n    return newDate\n  }\n\n  static getWeekEnd = _date => {\n    const date = Tempus.getDateChangedByDays(6, Tempus.getWeekStart(_date))\n    date.setUTCHours(23, 59, 59, 999)\n    return date\n  }\n\n  static getLocaleDate = (date, locale = 'en-US', timeZone = false) => {\n    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }\n    if (timeZone) {\n      options.timeZone = timeZone\n    }\n\n    return date.toLocaleString(locale, options)\n  }\n\n  /**\n   * Get time zone offset\n   *\n   * @description Cast as primitive to get desired result\n   */\n  static TimeZoneOffset = class {\n    constructor(timeZone, date = new Date()) {\n      const tz = date.toLocaleString('en', { timeZone, timeStyle: 'long' }).split(' ').slice(-1)[0]\n      const dateString = date.toString()\n      const offset = Date.parse(`${dateString} UTC`) - Date.parse(`${dateString} ${tz}`)\n\n      // return UTC offset in millis\n      const result = offset / 3_600_000\n      this.hours = result\n    }\n\n    /**\n     * Override toString()\n     * @returns {String} time formatted offset\n     */\n    toString() {\n      return Tempus.decimalToTime(this.hours, false)\n    }\n\n    /**\n     * Convert to primitive\n     * @param {string} hint Type hint\n     * @returns {Number|String} Converted type of offset hours\n     */\n    [Symbol.toPrimitive](hint) {\n      if (hint === 'number') {\n        return this.hours\n      }\n\n      return Tempus.decimalToTime(this.hours, false)\n    }\n  }\n}\n\nexport default Tempus\n"],"names":["Tempus","Date","constructor","super","arguments","this","timeZone","locale","dayStart","dayEnd","dayOfWeek","timeZoneOffset","TimeZoneOffset","startOfWeek","oldTZ","nd","setTimeZone","setHours","date","getWeekStart","endOfWeek","getWeekEnd","localeDate","getLocaleDate","tz","oldOffset","Number","offset","adjustByHours","setLocale","toSQLString","format","adjustByDays","days","hours","daysInWeek","newDate","setUTCHours","startMonday","getDay","getDateChangedByDays","initialDate","getTime","setDate","getDate","getHours","decimalToTime","num","secs","neg","n","setSeconds","toTimeString","slice","r","inc","split","reverse","map","e","i","String","padStart","join","toLowerCase","formatted","toISOString","replace","_date","day","diff","options","weekday","year","month","toLocaleString","timeStyle","dateString","toString","result","parse","Symbol","toPrimitive","hint"],"sourceRoot":""}